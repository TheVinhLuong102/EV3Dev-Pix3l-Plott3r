#!/usr/bin/python
# -*- coding: utf-8 -*- import python packages
#This code DOES NOT wait for user dialogue
#install --> (sudo) apt-get install python-pip --> (sudo) pip install pillow python-ev3dev
#running --> run (sudo) python pythonfilename.py imagefilename.png (jpg will work along with others types) -->

from PIL import Image, ImageFilter

import time

import os
import sys

# paper resolution
horiz_deg = -1800; #degress max move
horiz_width = 5; #inches
horiz_res = horiz_deg/horiz_width; # degrees per inch
vertical_deg = 850; #degress max move
vertical_width = 6.5; #inches
vertical_res = vertical_deg/vertical_width; # degrees per inch
vert_move = 7;
horiz_move = vert_move*horiz_res/vertical_res;
res = horiz_deg/horiz_move/1.1;


#resise and flip image
filename = sys.argv[1]
cmd = "convert " + filename + " -threshold 90% -flop -resize " + str(res) + "print.jpg"
os.system(cmd) #execute command
image_file = Image.open('print.jpg') # open image print.jpg in current directory
image_file = image_file.convert('1') # convert image to pure black and white (just in case image is greyscale or color)
image_file.save('print.png') # save b&w image

w = 0
h = 0
l = 0
img = Image.open('print.png') #open black and white image
width, height = img.size # get image size
array = []
print width," x ", height
while h != height:
        while w != width:
                array.append(img.getpixel((w, h))) #get black or white of each pixel
                w = w+1 #move to next pixel
        w = 0 #reset width counter
        h = h+1 #move to next row

all_pixels = array #save array of pixels to all_pixels


width, height = img.size #get image size
xd = 0
yd = 0
xda = 0
while yd != height:
    while xd != width:
        if all_pixels[xda] == 0: #is pixel black?
            print "â–ˆ", #print block if black pixel
        else:
            print " ",
        xd = xd + 1
        xda = xda + 1
    print(" ")
    yd = yd + 1
    xd = 0

